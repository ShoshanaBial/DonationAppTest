<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="p-grid">
        <div *ngFor="let field of formFields" [ngClass]="!isInsertMode  ? 'p-col-12' : (field.class || 'p-col-12')">
            <span class="p-float-label" *ngIf="!field.isHidden">
                <input *ngIf="field.controlType === 'input'" [type]="field.type || 'text'" pInputText [name]="field.key"
                    [formControlName]="field.key">
                <p-dropdown *ngIf="field.controlType === 'dropdown'" [autoDisplayFirst]="false"
                    [options]="field.options || []" [name]="field.key" [formControlName]="field.key"></p-dropdown>
                <label [for]="field.key" [class.required]="controlIsRequired(form.get(field.key)!)" >{{field.label}}</label>
            </span>
            <app-error-message [customControl]="form.get(field.key)!"></app-error-message>

        </div>

    </div>

    <div class="p-formgroup-inline">
        <button pButton pRipple label="ניקוי" type="button" class="p-button-rounded p-button-outlined" [disabled]="this.donation?.isDisable" (click)="cleanForm()"></button>

        <button type="submit" pButton pRipple label="שמירה" class="p-button-rounded" [disabled]="!form.valid || this.donation?.isDisable"></button>
    </div>
</form>